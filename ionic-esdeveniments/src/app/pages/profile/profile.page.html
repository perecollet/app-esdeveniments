<ion-header>
  <ion-toolbar>
    <ion-title>El teu perfil</ion-title>
    <ion-button id="logout" slot="end" color="light" (click)="logout()">
      <ion-icon name="log-out-outline"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid>
    <ion-item *ngIf="errorMessage" class="help-block" no-lines color="danger">
      <ion-label><strong>Error: </strong>{{errorMessage}}</ion-label>
    </ion-item>
    <ion-row justify-content-center>
      <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
        <div *ngIf="isDataAvailable" padding>
          <ion-item>
            <ion-label>Nom: </ion-label>
            <ion-input type="text" class="form-control input-text-custom" id="name"  value="{{user.name}} {{user.surname}}" readonly></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Data de naixement: </ion-label>
            <ion-datetime displayFormat="DD/MM/YYYY" id="birthdate"  value="{{user.birthday}}" readonly></ion-datetime>
          </ion-item>
          <ion-item>
            <ion-label>D.N.I: </ion-label>
            <ion-input type="text" class="form-control input-text-custom" id="dni"  value="{{user.dni}}" readonly></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"></ion-label>
            <ion-input type="text" class="form-control input-text-custom" id="address" [(ngModel)]="user.address"   ></ion-input>
            <ion-input type="text" class="form-control input-text-custom" id="city" [(ngModel)]="user.city" ></ion-input>
            <ion-input type="text" class="form-control input-text-custom" id="zipcode" [(ngModel)]="user.zipcode"></ion-input>
          </ion-item><ion-item>
            <ion-label>Telèfon: </ion-label>
            <ion-input type="text" class="form-control input-text-custom" id="phone"  [(ngModel)]="user.phone"></ion-input>
          </ion-item>          <ion-item>
            <ion-label>Correu: </ion-label>
            <ion-input type="text" class="form-control input-text-custom" id="email" [(ngModel)]="user.email"></ion-input>
          </ion-item>    
          <ion-item>
            <ion-label>Descripció:<br> </ion-label>
            <ion-textarea class="form-control input-text-custom"  id="description" [(ngModel)]="user.description"></ion-textarea>
          </ion-item>
          <div style="position: sticky; margin-top: 0%;">
            <ion-button  id="saveChangesButton" color="primary" expand="block" size="large" (click)="updateUserInfo()">Desa</ion-button>
            <ion-button  id="deleteAccountButton" color="danger" expand="block" size="large" (click)="deleteUserAlert()">Elimina el compte</ion-button>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

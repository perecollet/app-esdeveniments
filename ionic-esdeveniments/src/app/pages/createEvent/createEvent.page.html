
<ion-header translucent>
  <ion-toolbar>
    <ion-title>
      Nou esdeveniment
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click) ="dismissModal()">Close</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content >
  <ion-item *ngIf="errorMessage" class="help-block" no-lines color="danger">
    <ion-label><strong>Error: </strong>{{errorMessage}}</ion-label>
  </ion-item>
  <form name="CreateEventForm" (ngSubmit)="f.form.valid && save(f)"  #f="ngForm" novalidate>
    <div style="overflow-y: scroll;">
      <ion-list lines="full" class="ion-no-margin ion-no-padding">
        <ion-item>
          <ion-label>Activitat</ion-label>
          <ion-select id="activity" name="activity" [(ngModel)]="event.activity" #activity="ngModel" required >
            <ion-select-option *ngFor="let act of activitats" [value]="act">{{act}}</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item *ngIf="f.submitted && !activity.valid" class="help-block" no-lines color="danger">
          <ion-label>L'activitat és obligatoria.</ion-label>
        </ion-item>
        <ion-item>
          <ion-textarea placeholder="Descripció" class="form-control input-textarea-custom" id="description" name="description" [(ngModel)]="event.description" #description="ngModel" required></ion-textarea>
        </ion-item>
        <ion-item *ngIf="f.submitted && !description.valid" class="help-block" no-lines color="danger">
          <ion-label>La descripció és obligatòria.</ion-label>
        </ion-item>    
        <ion-item>
          <ion-input type="text" placeholder="Localització" class="form-control input-text-custom" id="location" name="location" [(ngModel)]="event.location" #location="ngModel" required></ion-input>
        </ion-item>
        <ion-item *ngIf="f.submitted && !location.valid" class="help-block" no-lines color="danger">
          <ion-label>La localització és obligatòria.</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Inici</ion-label>
          <ion-datetime displayFormat="DD/MM/YYYY HH:mm" picker-format="DD/MM/YYYY HH:mm" id="startTime" name="startTime" [(ngModel)]="event.startTime" #startTime="ngModel" required></ion-datetime>
        </ion-item>
        <ion-item *ngIf="f.submitted && !startTime.valid" class="help-block" no-lines color="danger">
          <ion-label>La data i hora d'inici és obligatòria.</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Fi</ion-label>
          <ion-datetime displayFormat="DD/MM/YYYY HH:mm" picker-format="DD/MM/YYYY HH:mm" id="endTime" name="endTime" [(ngModel)]="event.endTime" #endTime="ngModel" required></ion-datetime>
        </ion-item>
        <ion-item *ngIf="f.submitted && !endTime.valid" class="help-block" no-lines color="danger">
          <ion-label>La data i hora de finalització és obligatòria.</ion-label>
        </ion-item>
        <ion-item>
          <ion-input type="number" placeholder="Número de participants" id="numParticipants" name="numParticipants" [(ngModel)]="event.numParticipants" #numParticipants="ngModel" required></ion-input>
        </ion-item>
        <ion-item *ngIf="f.submitted && !numParticipants.valid" class="help-block" no-lines color="danger">
          <ion-label>El número de participants és obligatòri.</ion-label>
        </ion-item>          
      </ion-list>
      </div>
      <div pading>
        <ion-button size="large" type="submit" vertical="bottom" expand="block">Crear esdeveniment</ion-button>
      </div>
  </form>
</ion-content> 
